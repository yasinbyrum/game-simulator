
const fs = require('fs');

const rawCards = `Bucket ID	Rarity	Name	LVL1	LVL2	LVL3	LVL4	LVL5	LVL6	LVL7	LVL8	LVL9	LVL10	LVL11	LVL12
1	Rookie	Axel	60	90	140	220	340	530	820	1270	1970	3050	4730	7330
1	Rookie	Raven	60	90	140	220	340	530	820	1270	1970	3050	4730	7330
1	Pro	James	12	20	30	40	60	80	110	150	210	290	410	570
1	Pro	Bruce	12	20	30	40	60	80	110	150	210	290	410	570
2	Rookie	Bucky	60	90	140	220	340	530	820	1270	1970	3050	4730	7330
2	Rookie	Wilson	60	90	140	220	340	530	820	1270	1970	3050	4730	7330
2	Rookie	Ivanna	90	140	220	340	530	820	1270	1970	3050	4730	7330	11360
2	Rookie	Bolshoi	90	140	220	340	530	820	1270	1970	3050	4730	7330	11360
2	Pro	Taiga	18	30	40	60	80	110	150	210	290	410	570	800
2	Pro	Monk	18	30	40	60	80	110	150	210	290	410	570	800
2	Pro	Gnoll	18	30	40	60	80	110	150	210	290	410	570	800
2	Pro	Maximus	18	30	40	60	80	110	150	210	290	410	570	800
3	Rookie	Thomas	90	140	220	340	530	820	1270	1970	3050	4730	7330	11360
3	Rookie	Spike 	90	140	220	340	530	820	1270	1970	3050	4730	7330	11360
3	Rookie	Mogadi 	120	190	290	450	700	1090	1690	2620	4060	6290	9750	15110
3	Rookie	Hogmar	120	190	290	450	700	1090	1690	2620	4060	6290	9750	15110
3	Pro	Camila	24	30	40	60	80	110	150	210	290	410	570	800
3	Pro	Pedro	24	30	40	60	80	110	150	210	290	410	570	800
3	Pro	Süleyman	40	60	80	110	150	210	290	410	570	800	1120	1570
3	Pro	Hürrem	40	60	80	110	150	210	290	410	570	800	1120	1570
3	Pro	Hiro	48	70	100	140	200	280	390	550	770	1080	1510	2110
3	Pro	Koushi	48	70	100	140	200	280	390	550	770	1080	1510	2110
3	Champion	Scott	13	16	20	25	31	39	49	61	76	95	119	149
3	Champion	Vlad	13	16	20	25	31	39	49	61	76	95	119	149
4	Rookie	Zıpır	120	190	290	450	700	1090	1690	2620	4060	6290	9750	15110
4	Rookie	Dudu	120	190	290	450	700	1090	1690	2620	4060	6290	9750	15110
4	Pro	Bahlul	40	60	80	110	150	210	290	410	570	800	1120	1570
4	Pro	Amir	40	60	80	110	150	210	290	410	570	800	1120	1570
4	Pro	Barkley	48	70	100	140	200	280	390	550	770	1080	1510	2110
4	Pro	Felicia	48	70	100	140	200	280	390	550	770	1080	1510	2110
4	Champion	Antoine	16	20	25	31	39	49	61	76	95	119	149	186
4	Champion	Marionette	16	20	25	31	39	49	61	76	95	119	149	186
4	Champion	Isabella	19	24	30	38	48	60	75	94	118	148	185	231
4	Champion	Skully	19	24	30	38	48	60	75	94	118	148	185	231
4	Legendary	El1za	5	6	7	8	9	10	12	14	16	18	21	24
4	Legendary	Martian	5	6	7	8	9	10	12	14	16	18	21	24
5	Champion	Aloi	19	24	30	38	48	60	75	94	118	148	185	231
5	Champion	Kitsu 	19	24	30	38	48	60	75	94	118	148	185	231
5	Champion	Nina	28	35	44	55	69	86	108	135	169	211	264	330
5	Champion	Riot	28	35	44	55	69	86	108	135	169	211	264	330
5	Legendary	Lola	5	6	7	8	9	10	12	14	16	18	21	24
5	Legendary	Giggles 	5	6	7	8	9	10	12	14	16	18	21	24
5	Legendary	Dr. Victor	5	6	7	8	9	10	12	14	16	18	21	24
5	Legendary	Frank	5	6	7	8	9	10	12	14	16	18	21	24
5	Legendary	Gobbo	5	6	7	8	9	10	12	14	16	18	21	24
5	Legendary	Moira	5	6	7	8	9	10	12	14	16	18	21	24
5	Exclusive	Faust	5	6	7	8	9	10	11	12	13	14	15	17
5	Exclusive	Lydia	5	6	7	8	9	10	11	12	13	14	15	17`;

const rawXp = `Bucket ID	Rarity	Name	2	3	4	5	6	7	8	9	10	11	12
1	Rookie	Axel	80	112	160	232	336	480	688	984	1.408	2.016	2.880
1	Rookie	Raven	80	112	160	232	336	480	688	984	1.408	2.016	2.880
1	Pro	James	130	182	260	377	546	780	1118	1599	2288	3276	4680
1	Pro	Bruce	130	182	260	377	546	780	1118	1599	2288	3276	4680
2	Rookie	Bucky	112	157	224	325	470	672	963	1378	1971	2822	4032
2	Rookie	Wilson	112	157	224	325	470	672	963	1378	1971	2822	4032
2	Rookie	Ivanna	112	157	224	325	470	672	963	1378	1971	2822	4032
2	Rookie	Bolshoi	112	157	224	325	470	672	963	1378	1971	2822	4032
2	Pro	Taiga	182	255	364	528	764	1092	1565	2239	3203	4586	6552
2	Pro	Monk	182	255	364	528	764	1092	1565	2239	3203	4586	6552
2	Pro	Gnoll	182	255	364	528	764	1092	1565	2239	3203	4586	6552
2	Pro	Maximus	182	255	364	528	764	1092	1565	2239	3203	4586	6552
3	Rookie	Thomas	160	224	320	464	672	960	1376	1968	2816	4032	5760
3	Rookie	Spike 	160	224	320	464	672	960	1376	1968	2816	4032	5760
3	Rookie	Mogadi 	160	224	320	464	672	960	1376	1968	2816	4032	5760
3	Rookie	Hogmar	160	224	320	464	672	960	1376	1968	2816	4032	5760
3	Pro	Camila	260	364	520	754	1092	1560	2236	3198	4576	6552	9360
3	Pro	Pedro	260	364	520	754	1092	1560	2236	3198	4576	6552	9360
3	Pro	Süleyman	260	364	520	754	1092	1560	2236	3198	4576	6552	9360
3	Pro	Hürrem	260	364	520	754	1092	1560	2236	3198	4576	6552	9360
3	Pro	Hiro	260	364	520	754	1092	1560	2236	3198	4576	6552	9360
3	Pro	Koushi	260	364	520	754	1092	1560	2236	3198	4576	6552	9360
3	Champion	Scott	420	588	840	1218	1764	2520	3612	5166	7392	10584	15120
3	Champion	Vlad	420	588	840	1218	1764	2520	3612	5166	7392	10584	15120
4	Rookie	Zıpır	224	314	448	650	941	1344	1926	2755	3942	5645	8064
4	Rookie	Dudu	224	314	448	650	941	1344	1926	2755	3942	5645	8064
4	Pro	Bahlul	364	510	728	1056	1529	2184	3130	4477	6406	9173	13104
4	Pro	Amir	364	510	728	1056	1529	2184	3130	4477	6406	9173	13104
4	Pro	Barkley	364	510	728	1056	1529	2184	3130	4477	6406	9173	13104
4	Pro	Felicia	364	510	728	1056	1529	2184	3130	4477	6406	9173	13104
4	Champion	Antoine	588	823	1176	1705	2470	3528	5057	7232	10349	14818	21168
4	Champion	Marionette	588	823	1176	1705	2470	3528	5057	7232	10349	14818	21168
4	Champion	Isabella	588	823	1176	1705	2470	3528	5057	7232	10349	14818	21168
4	Champion	Skully	588	823	1176	1705	2470	3528	5057	7232	10349	14818	21168
4	Legendary	El1za	952	1333	1904	2761	3998	5712	8187	11710	16755	23990	34272
4	Legendary	Martian	952	1333	1904	2761	3998	5712	8187	11710	16755	23990	34272
5	Champion	Aloi	840	1176	1680	2436	3528	5040	7224	10332	14784	21168	30240
5	Champion	Kitsu 	840	1176	1680	2436	3528	5040	7224	10332	14784	21168	30240
5	Champion	Nina	840	1176	1680	2436	3528	5040	7224	10332	14784	21168	30240
5	Champion	Riot	840	1176	1680	2436	3528	5040	7224	10332	14784	21168	30240
5	Legendary	Lola	1360	1904	2720	3944	5712	8160	11696	16728	23936	34272	48960
5	Legendary	Giggles 	1360	1904	2720	3944	5712	8160	11696	16728	23936	34272	48960
5	Legendary	Dr. Victor	1360	1904	2720	3944	5712	8160	11696	16728	23936	34272	48960
5	Legendary	Frank	1360	1904	2720	3944	5712	8160	11696	16728	23936	34272	48960
5	Legendary	Gobbo	1360	1904	2720	3944	5712	8160	11696	16728	23936	34272	48960
5	Legendary	Moira	1360	1904	2720	3944	5712	8160	11696	16728	23936	34272	48960
5	Exclusive	Faust	2200	3080	4400	6380	9240	13200	18920	27060	38720	55440	79200
5	Exclusive	Lydia	2200	3080	4400	6380	9240	13200	18920	27060	38720	55440	79200`;

const rawGold = `Bucket ID	Rarity	Name	LVL2	LVL3	LVL4	LVL5	LVL6	LVL7	LVL8	LVL9	LVL10	LVL11	LVL12
1	Rookie	Axel	100	120	140	170	200	240	290	350	420	500	600
1	Rookie	Raven	100	120	140	170	200	240	290	350	420	500	600
1	Pro	James	150	200	250	300	350	400	500	600	700	850	1.000
1	Pro	Bruce	150	200	250	300	350	400	500	600	700	850	1.000
2	Rookie	Bucky	150	200	250	300	350	400	500	600	700	850	1.000
2	Rookie	Wilson	150	200	250	300	350	400	500	600	700	850	1.000
2	Rookie	Ivanna	150	200	250	300	350	400	500	600	700	850	1.000
2	Rookie	Bolshoi	150	200	250	300	350	400	500	600	700	850	1.000
2	Pro	Taiga	225	250	300	350	400	500	600	700	850	1.000	1.200
2	Pro	Monk	225	250	300	350	400	500	600	700	850	1.000	1.200
2	Pro	Gnoll	225	250	300	350	400	500	600	700	850	1.000	1.200
2	Pro	Maximus	225	250	300	350	400	500	600	700	850	1.000	1.200
3	Rookie	Thomas	300	350	400	500	600	700	850	1.000	1.200	1.450	1.750
3	Rookie	Spike 	300	350	400	500	600	700	850	1.000	1.200	1.450	1.750
3	Rookie	Mogadi 	300	350	400	500	600	700	850	1.000	1.200	1.450	1.750
3	Rookie	Hogmar	300	350	400	500	600	700	850	1.000	1.200	1.450	1.750
3	Pro	Camila	550	650	800	950	1.150	1.400	1.700	2.050	2.450	2.950	3.550
3	Pro	Pedro	550	650	800	950	1.150	1.400	1.700	2.050	2.450	2.950	3.550
3	Pro	Süleyman	550	650	800	950	1.150	1.400	1.700	2.050	2.450	2.950	3.550
3	Pro	Hürrem	550	650	800	950	1.150	1.400	1.700	2.050	2.450	2.950	3.550
3	Pro	Hiro	550	650	800	950	1.150	1.400	1.700	2.050	2.450	2.950	3.550
3	Pro	Koushi	550	650	800	950	1.150	1.400	1.700	2.050	2.450	2.950	3.550
3	Champion	Scott	600	700	850	1.000	1.200	1.450	1.750	2.100	2.500	3.000	3.600
3	Champion	Vlad	600	700	850	1.000	1.200	1.450	1.750	2.100	2.500	3.000	3.600
4	Rookie	Zıpır	400	500	600	700	850	1.000	1.200	1.450	1.750	2.100	2.500
4	Rookie	Dudu	400	500	600	700	850	1.000	1.200	1.450	1.750	2.100	2.500
4	Pro	Bahlul	750	900	1.100	1.300	1.550	1.850	2.200	2.650	3.200	3.850	4.600
4	Pro	Amir	750	900	1.100	1.300	1.550	1.850	2.200	2.650	3.200	3.850	4.600
4	Pro	Barkley	750	900	1.100	1.300	1.550	1.850	2.200	2.650	3.200	3.850	4.600
4	Pro	Felicia	750	900	1.100	1.300	1.550	1.850	2.200	2.650	3.200	3.850	4.600
4	Champion	Antoine	800	950	1.150	1.400	1.700	2.050	2.450	2.950	3.550	4.250	5.100
4	Champion	Marionette	800	950	1.150	1.400	1.700	2.050	2.450	2.950	3.550	4.250	5.100
4	Champion	Isabella	800	950	1.150	1.400	1.700	2.050	2.450	2.950	3.550	4.250	5.100
4	Champion	Skully	800	950	1.150	1.400	1.700	2.050	2.450	2.950	3.550	4.250	5.100
4	Legendary	El1za	1.000	1.200	1.450	1.750	2.100	2.500	3.000	3.600	4.300	5.150	6.200
4	Legendary	Martian	1.000	1.200	1.450	1.750	2.100	2.500	3.000	3.600	4.300	5.150	6.200
5	Champion	Aloi	1.000	1.200	1.450	1.750	2.100	2.500	3.000	3.600	4.300	5.150	6.200
5	Champion	Kitsu 	1.000	1.200	1.450	1.750	2.100	2.500	3.000	3.600	4.300	5.150	6.200
5	Champion	Nina	1.000	1.200	1.450	1.750	2.100	2.500	3.000	3.600	4.300	5.150	6.200
5	Champion	Riot	1.000	1.200	1.450	1.750	2.100	2.500	3.000	3.600	4.300	5.150	6.200
5	Legendary	Lola	1.500	1.800	2.150	2.600	3.100	3.700	4.450	5.350	6.400	7.700	9.250
5	Legendary	Giggles 	1.500	1.800	2.150	2.600	3.100	3.700	4.450	5.350	6.400	7.700	9.250
5	Legendary	Dr. Victor	1.500	1.800	2.150	2.600	3.100	3.700	4.450	5.350	6.400	7.700	9.250
5	Legendary	Frank	1.500	1.800	2.150	2.600	3.100	3.700	4.450	5.350	6.400	7.700	9.250
5	Legendary	Gobbo	1.500	1.800	2.150	2.600	3.100	3.700	4.450	5.350	6.400	7.700	9.250
5	Legendary	Moira	1.500	1.800	2.150	2.600	3.100	3.700	4.450	5.350	6.400	7.700	9.250
5	Exclusive	Faust	2.000	2.400	2.900	3.500	4.200	5.050	6.050	7.250	8.700	10.450	12.550
5	Exclusive	Lydia	2.000	2.400	2.900	3.500	4.200	5.050	6.050	7.250	8.700	10.450	12.550`;

function parseTable(text, type) {
    let lines = text.split('\n').filter(l => l.trim());
    let data = {};
    for (let i = 1; i < lines.length; i++) { // Skip header
        let parts = lines[i].split(/\t|\s{2,}/); // Split by tab or multiple spaces
        if (parts.length < 5) continue;

        let name = parts[2].trim();
        let values = parts.slice(3).map(v => parseInt(v.replace(/\./g, ''))); // Remove dots, parse int

        // Handling special table starts
        // Cards: LVL1...LVL12. Length 12. Correct for `c` array (index 0..11)
        // XP: 2...12. Length 11. `x` array needs leading 0.
        // Gold: LVL2...LVL12. Length 11. `g` array needs leading 0.

        if (type === 'x' || type === 'g') {
            values.unshift(0);
        }

        if (!data[name]) data[name] = {};
        data[name][type] = values;
    }
    return data;
}

let cardData = parseTable(rawCards, 'c');
let xpData = parseTable(rawXp, 'x');
let goldData = parseTable(rawGold, 'g');

// Merge
let merged = {};
[...Object.keys(cardData), ...Object.keys(xpData), ...Object.keys(goldData)].forEach(k => {
    // Normalize name (Some might have extra spaces)
    let n = k.trim();
    if (!merged[n]) merged[n] = { c: [], x: [], g: [] };
    if (cardData[k] && cardData[k].c) merged[n].c = cardData[k].c;
    if (xpData[k] && xpData[k].x) merged[n].x = xpData[k].x;
    if (goldData[k] && goldData[k].g) merged[n].g = goldData[k].g;
});

console.log(JSON.stringify(merged, null, 2));
